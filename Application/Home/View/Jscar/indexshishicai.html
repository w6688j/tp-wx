<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>多彩种测试房</title>
    <meta content="user-scalable=no,maximum-scale=1.0" id="viewport" name="viewport"/>
    <meta name='Robots' content='noindex,nofollow'/>
    <link rel="stylesheet" type="text/css" href="http://www.yaolaiyaoqu.cn/static/css/iconfont.css?v=20171111"/>
    <link href="http://v4.dgtztz.com/Public/css/layout.css?v=20171111" type="text/css" rel="stylesheet"/>
    <link href="http://v4.dgtztz.com/Public/css/wx.css?v=20171111" type="text/css" rel="stylesheet"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/3.4.2/css/swiper.min.css">
    <script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.min.js" type="text/javascript"></script>
    <script type="text/javascript">
        var tz_types = ["1", "2", "3", "4", "5", "6"];
        var ifa_height = 730;
    </script>
    <link href="http://v4.dgtztz.com/play/css/common.css?v=20171101" rel="stylesheet" />
    <link href="http://v4.dgtztz.com/play/css/chungking.css?v=20171101" rel="stylesheet" />
    <script src="http://v4.dgtztz.com/Public/lang/cqssc_zh_cn.js?v=20171111" type="text/javascript"></script>
    <script src="http://v4.dgtztz.com/Public/js/games.js?v=20171111" type="text/javascript"></script>
    <script src="http://v4.dgtztz.com/Public/js/cqssc.js?v=20171111" type="text/javascript"></script>
    <script src="http://v4.dgtztz.com/Public/js/layer.js?v=20171111" type="text/javascript"></script>
    <script src="http://v4.dgtztz.com/static/js/xsapp.js?v=20171111" type="text/javascript" charset="utf-8"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/3.4.2/js/swiper.jquery.min.js"></script>
</head>
<style>
    #Cocos2dGameContainer{
        width: 100% !important;
        height: 600px !important;
    }
</style>
<body onload="connect()">
<div class="frameTOP">
    <canvas id="gameCanvas" width="1136" height="640" style="width:117%;height:600px"></canvas>
    <!--<iframe id='ifarms' name="ifarms" scrolling="no" marginwidth='0' marginheight='0' width="100%" border='0'-->
            <!--class="ifarms" frameborder='no'></iframe>-->
    <div class="neirong minmax" style="display: none; overflow: scroll;">
        <table id='tables' class="tables" border='0' cellpadding='1' cellspacing='1'>
        </table>
    </div>
    <div class="changlong cqssc_cl" style="display: none;">
        <table style="width: 100%; background-color: rgba(255,255,255,0.7);" border='0' cellpadding='1' cellspacing='1'>
            <tr>
                <td width="49.5%" style="vertical-align: top;">
                    <table id='changlong1' class="tables" border='0' cellpadding='1' cellspacing='1'>
                    </table>
                </td>
                <td width="49.5%" style="vertical-align: top; background-color: rgba(230,230,230,0.7);">
                    <table id='changlong2' class="tables" border='0' cellpadding='1' cellspacing='1'>
                    </table>
                </td>
            </tr>
        </table>
    </div>
</div>
<!--聊天主体  -->
<div class="leftdiv">
    <ul>
        <li data-uri='/Carhome/index/xiaohu' class="ulogo ajax_uri on"><img
                src="http://qimg.dgtztz.com/2017-11-08_5a031bc886004.jpg" class="mlogo show_load"/></li>
        <li class="home" data-id="home"><span>菜单</span></li>
        <li class="guess" data-id="touzu"><span>竞猜</span></li>
        <li class="logs" data-id="tzlog"><span>记录</span></li>
        <li class="skefu" data-id="kefu"><span>客服<em>0</em></span></li>
        <li class="fresh" data-id="reload"><span>刷新</span></li>
        <li class="cz" data-id="czhelp"><span>充值</span></li>
        <li data-id="logout"><span>退出</span></li>
    </ul>
</div>

<div id="frameRIGHTH">
    <div class="nav_banner">
        <ul class="lottery">
            <li class="home" data-id="lottery">
                <span> <i class="iconfont">&#xe683;</i>重庆时时彩</span>
            </li>
            <li class="dh" data-id="donghua"><span>动画</span></li>
            <li class="wz" data-id="wenzi"><span>走势</span></li>
            <li class="cl" data-id="changlong"><span>长龙</span></li>
            <li class="gz" data-id="guize"><span>规则</span></li>
            <li class="sx" data-id='reload2'><span>更新动画</span></li>
            <li class="min_max" data-id='minmax'><span>小窗</span></li>
            <li class="min_max" data-id='minmax' onclick="onSubmit()"><span>onSubmit</span></li>
        </ul>
        <ul class="uinfo">
            <li class="uno">ID:<b>{$userinfo.id}</b></li>
            <li class="uname">昵称:{$userinfo.nickname}</li>
            <li class="money">余点: <b class="balance">{$userinfo.points}</b></li>
            <li class="oline">在线: <b class="online" id="xs"></b>人</li>
        </ul>
    </div>
    <div class='touzu rbox'>
        <div class="user_messages">
            <div class="keybord_box"></div>
            <div class="keybord_div" id="keybord_div"></div>
            <div class="txtbet_div" id="txtbet_div">
                <div class="game-box">
                    <div class="close"><i class="iconfont closebt">&#xe60d;</i></div>
                    <div class="game-hd">
                        <div class="menu">
                            <ul>
                                <li class="gameli"><a href="javascript:;" class="on" data-t="1">猜大小单双</a></li>
                                <li class="gameli"><a href="javascript:;" data-t="2">猜数字</a></li>
                                <li class="gameli"><a href="javascript:;" data-t="5">特码竞猜</a></li>
                                <li class="more-game">
                                    <a href="javascript:;"><img src="/Public/images/game-arrow.png"/></a>
                                    <div class="sub-menu">
                                        <a href="javascript:;" data-t="7">单码竞猜</a>
                                        <a href="javascript:;" data-t="8">连码竞猜</a>
                                        <a href="javascript:;" data-t="4">猜龙虎</a>
                                        <a href="javascript:;" data-t="3">猜三球总和</a>
                                    </div>
                                </li>
                            </ul>
                        </div>
                        <div class="infuse">
                            <a href="javascript:void(0)" class="getkeybord"></a>
                            <a href="javascript:;" class="clearnum"><i class="iconfont">清空所选 &#xe60d;</i></a>
                            <em id="bet_num">共0注</em>
                            <a href="javascript:;" class="confirm-pour"><i class="iconfont">&#xe60b; 确定下注</i></a>
                        </div>
                    </div>
                    <div class="game-bd">
                        <div class="gamenum game-type-1">
                            <div class="rank-tit"><span class="change">猜大小单双</span></div>
                            <div class="btn-box btn-grounp">
                                <a href="javascript:;" class="btn mini-btn" data-line="1">
                                    <div class="h5">万</div>
                                </a>
                                <a href="javascript:;" class="btn mini-btn" data-line="2">
                                    <div class="h5">千</div>
                                </a>
                                <a href="javascript:;" class="btn mini-btn" data-line="3">
                                    <div class="h5">百</div>
                                </a>
                                <a href="javascript:;" class="btn mini-btn" data-line="4">
                                    <div class="h5">十</div>
                                </a>
                                <a href="javascript:;" class="btn mini-btn" data-line="5">
                                    <div class="h5">个</div>
                                </a>
                            </div>
                            <div class="btn-box btn-grounp">
                                <a href="javascript:;" class="btn middle-btn" data-val="大">
                                    <div class="h5">
                                        <h5>大</h5>
                                        <p>5、6、7、8、9</p>
                                        <p><em>× 1.9</em></p>
                                    </div>
                                </a>
                                <a href="javascript:;" class="btn middle-btn" data-val="小">
                                    <div class="h5">
                                        <h5>小</h5>
                                        <p>0、1、2、3、4</p>
                                        <p><em>× 1.9</em></p>
                                    </div>
                                </a>
                                <a href="javascript:;" class="btn middle-btn" data-val="单">
                                    <div class="h5">
                                        <h5>单</h5>
                                        <p>1、3、5、7、9</p>
                                        <p><em>× 1.9</em></p>
                                    </div>
                                </a>
                                <a href="javascript:;" class="btn middle-btn" data-val="双">
                                    <div class="h5">
                                        <h5>双</h5>
                                        <p>0、2、4、6、8</p>
                                        <p><em>× 1.9</em></p>
                                    </div>
                                </a>
                            </div>
                        </div>
                        <!--猜大小单双-->
                        <div class="gamenum game-type-2">
                            <div class="rank-tit"><span class="change"></span></div>
                            <div class="btn-box btn-grounp">
                                <a href="javascript:;" class="btn mini-btn" data-line="1">
                                    <div class="h5">万</div>
                                </a>
                                <a href="javascript:;" class="btn mini-btn" data-line="2">
                                    <div class="h5">千</div>
                                </a>
                                <a href="javascript:;" class="btn mini-btn" data-line="3">
                                    <div class="h5">百</div>
                                </a>
                                <a href="javascript:;" class="btn mini-btn" data-line="4">
                                    <div class="h5">十</div>
                                </a>
                                <a href="javascript:;" class="btn mini-btn" data-line="5">
                                    <div class="h5">个</div>
                                </a>
                            </div>
                            <div class="btn-box btn-grounp">
                                <a href="javascript:;" class="btn large-btn" data-val="0">
                                    <div class="h5">
                                        <h5>0</h5>
                                        <p><em>× 9.5</em></p>
                                    </div>
                                </a>
                                <a href="javascript:;" class="btn middle-btn2" data-val="1">
                                    <div class="h5">
                                        <h5>1</h5>
                                        <p><em>× 9.5</em></p>
                                    </div>
                                </a>
                                <a href="javascript:;" class="btn middle-btn2" data-val="2">
                                    <div class="h5">
                                        <h5>2</h5>
                                        <p><em>× 9.5</em></p>
                                    </div>
                                </a>
                                <a href="javascript:;" class="btn middle-btn2" data-val="3">
                                    <div class="h5">
                                        <h5>3</h5>
                                        <p><em>× 9.5</em></p>
                                    </div>
                                </a>
                                <a href="javascript:;" class="btn middle-btn2" data-val="4">
                                    <div class="h5">
                                        <h5>4</h5>
                                        <p><em>× 9.5</em></p>
                                    </div>
                                </a>
                                <a href="javascript:;" class="btn middle-btn2" data-val="5">
                                    <div class="h5">
                                        <h5>5</h5>
                                        <p><em>× 9.5</em></p>
                                    </div>
                                </a>
                                <a href="javascript:;" class="btn middle-btn2" data-val="6">
                                    <div class="h5">
                                        <h5>6</h5>
                                        <p><em>× 9.5</em></p>
                                    </div>
                                </a>
                                <a href="javascript:;" class="btn middle-btn2" data-val="7">
                                    <div class="h5">
                                        <h5>7</h5>
                                        <p><em>× 9.5</em></p>
                                    </div>
                                </a>
                                <a href="javascript:;" class="btn middle-btn2" data-val="8">
                                    <div class="h5">
                                        <h5>8</h5>
                                        <p><em>× 9.5</em></p>
                                    </div>
                                </a>
                                <a href="javascript:;" class="btn middle-btn2" data-val="9">
                                    <div class="h5">
                                        <h5>9</h5>
                                        <p><em>× 9.5</em></p>
                                    </div>
                                </a>
                            </div>
                        </div>
                        <!--猜数字-->
                        <div class="gamenum game-type-3">
                            <div class="rank-tit"><span class="change"></span></div>
                            <div class="btn-box btn-grounp">
                                <a href="javascript:;" class="btn middle-btn2" data-line="前">
                                    <div class="h5">
                                        <h5>前三</h5>
                                        <p>万、千、百</p>
                                    </div>
                                </a>
                                <a href="javascript:;" class="btn middle-btn2" data-line="中">
                                    <div class="h5">
                                        <h5>中三</h5>
                                        <p>千、百、十</p>
                                    </div>
                                </a>
                                <a href="javascript:;" class="btn middle-btn2" data-line="后">
                                    <div class="h5">
                                        <h5>后三</h5>
                                        <p>百、十、个</p>
                                    </div>
                                </a>
                            </div>
                            <div class="btn-box btn-grounp">
                                <a href="javascript:;" class="btn large-btn" data-val="豹子">
                                    <div class="h5">
                                        <h5>豹子</h5>
                                        <p><em>× 90</em></p>
                                    </div>
                                </a>
                                <a href="javascript:;" class="btn middle-btn3" data-val="顺子">
                                    <div class="h5">
                                        <h5>顺子</h5>
                                        <p><em>× 15</em></p>
                                    </div>
                                </a>
                                <a href="javascript:;" class="btn middle-btn3" data-val="对子">
                                    <div class="h5">
                                        <h5>对子</h5>
                                        <p><em>× 3.3</em></p>
                                    </div>
                                </a>
                                <a href="javascript:;" class="btn middle-btn3" data-val="半顺">
                                    <div class="h5">
                                        <h5>半顺</h5>
                                        <p><em>× 2.5</em></p>
                                    </div>
                                </a>
                                <a href="javascript:;" class="btn middle-btn3" data-val="杂六">
                                    <div class="h5">
                                        <h5>杂六</h5>
                                        <p><em>× 3</em></p>
                                    </div>
                                </a>
                            </div>
                        </div>
                        <!--猜三球总和-->
                        <div class="gamenum game-type-4">
                            <div class="rank-tit"><span class="change"></span></div>
                            <div class="btn-box btn-grounp">
                                <a href="javascript:;" class="btn middle-btn2" data-val="龙">
                                    <div class="h5">
                                        <h5>龙</h5>
                                        <p><em>× 2.1</em></p>
                                    </div>
                                </a>
                                <a href="javascript:;" class="btn middle-btn2" data-val="虎">
                                    <div class="h5">
                                        <h5>虎</h5>
                                        <p><em>× 2.1</em></p>
                                    </div>
                                </a>
                                <a href="javascript:;" class="btn middle-btn2" data-val="和">
                                    <div class="h5">
                                        <h5>和</h5>
                                        <p><em>× 9.5</em></p>
                                    </div>
                                </a>
                            </div>
                        </div>
                        <!--猜龙虎-->
                        <div class="gamenum game-type-5">
                            <div class="rank-tit"><span class="change"></span></div>
                            <div class="btn-box btn-grounp">
                                <a href="javascript:;" class="btn middle-btn3" data-val="大">
                                    <div class="h5">
                                        <h5>大</h5>
                                        <p><em>× 1.9</em></p>
                                    </div>
                                </a>
                                <a href="javascript:;" class="btn middle-btn3" data-val="小">
                                    <div class="h5">
                                        <h5>小</h5>
                                        <p><em>× 1.9</em></p>
                                    </div>
                                </a>
                                <a href="javascript:;" class="btn middle-btn3" data-val="单">
                                    <div class="h5">
                                        <h5>单</h5>
                                        <p><em>× 1.9</em></p>
                                    </div>
                                </a>
                                <a href="javascript:;" class="btn middle-btn3" data-val="双">
                                    <div class="h5">
                                        <h5>双</h5>
                                        <p><em>× 1.9</em></p>
                                    </div>
                                </a>
                                <a href="javascript:;" class="btn middle-btn2" data-val="A">
                                    <div class="h5">
                                        <h5>A</h5>
                                        <P>0-15</P>
                                        <p><em>× 6</em></p>
                                    </div>
                                </a>
                                <a href="javascript:;" class="btn middle-btn2" data-val="B">
                                    <div class="h5">
                                        <h5>B</h5>
                                        <P>16-29</P>
                                        <p><em>× 1.3</em></p>
                                    </div>
                                </a>
                                <a href="javascript:;" class="btn middle-btn2" data-val="C">
                                    <div class="h5">
                                        <h5>C</h5>
                                        <P>30-45</P>
                                        <p><em>× 6</em></p>
                                    </div>
                                </a>
                            </div>
                        </div>
                        <!--五球总和区段-->
                        <!--单码竞猜-->
                        <div class="gamenum game-type-7">
                            <div class="rank-tit"><span class="change"></span></div>
                            <div class="btn-box btn-grounp">
                                <a href="javascript:;" class="btn large-btn" data-val="0">
                                    <div class="h5">0</div>
                                </a>
                                <a href="javascript:;" class="btn middle-btn2" data-val="1">
                                    <div class="h5">1</div>
                                </a>
                                <a href="javascript:;" class="btn middle-btn2" data-val="2">
                                    <div class="h5">2</div>
                                </a>
                                <a href="javascript:;" class="btn middle-btn2" data-val="3">
                                    <div class="h5">3</div>
                                </a>
                                <a href="javascript:;" class="btn middle-btn2" data-val="4">
                                    <div class="h5">4</div>
                                </a>
                                <a href="javascript:;" class="btn middle-btn2" data-val="5">
                                    <div class="h5">5</div>
                                </a>
                                <a href="javascript:;" class="btn middle-btn2" data-val="6">
                                    <div class="h5">6</div>
                                </a>
                                <a href="javascript:;" class="btn middle-btn2" data-val="7">
                                    <div class="h5">7</div>
                                </a>
                                <a href="javascript:;" class="btn middle-btn2" data-val="8">
                                    <div class="h5">8</div>
                                </a>
                                <a href="javascript:;" class="btn middle-btn2" data-val="9">
                                    <div class="h5">9</div>
                                </a>
                            </div>
                        </div>
                        <!--连码码竞猜-->
                        <div class="gamenum game-type-8">
                            <div class="rank-tit"><span class="change"></span></div>
                            <div class="btn-box btn-grounp">
                                <a href="javascript:;" class="btn large-btn" data-val="0">
                                    <div class="h5">0</div>
                                </a>
                                <a href="javascript:;" class="btn middle-btn2" data-val="1">
                                    <div class="h5">1</div>
                                </a>
                                <a href="javascript:;" class="btn middle-btn2" data-val="2">
                                    <div class="h5">2</div>
                                </a>
                                <a href="javascript:;" class="btn middle-btn2" data-val="3">
                                    <div class="h5">3</div>
                                </a>
                                <a href="javascript:;" class="btn middle-btn2" data-val="4">
                                    <div class="h5">4</div>
                                </a>
                                <a href="javascript:;" class="btn middle-btn2" data-val="5">
                                    <div class="h5">5</div>
                                </a>
                                <a href="javascript:;" class="btn middle-btn2" data-val="6">
                                    <div class="h5">6</div>
                                </a>
                                <a href="javascript:;" class="btn middle-btn2" data-val="7">
                                    <div class="h5">7</div>
                                </a>
                                <a href="javascript:;" class="btn middle-btn2" data-val="8">
                                    <div class="h5">8</div>
                                </a>
                                <a href="javascript:;" class="btn middle-btn2" data-val="9">
                                    <div class="h5">9</div>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
                <div id="touzhu">
                    <div class="pour-info">
                        <h4 class="game-tit game-tit-bg">竞猜大小单双<a href="javascript:;" class="close">×</a></h3>
                            <div class="m-bd">
                                <h4>共<em class="bet_n">1</em>注，投注金额<em class="bet_total">0</em>元</h4>
                                <dl>
                                    <dt>
                                        <span>下注金额：</span>
                                        <input type="number" class="text text-right bet_money" placeholder="￥0.00"/>
                                        <a href="javascript:;" class="money_clear"><i class="iconfont">&#xe63d;
                                            清零</i></a>
                                    </dt>
                                    <dd>
                                        <i class="m5" data-money='5'></i>
                                        <i class="m10" data-money='10'></i>
                                        <i class="m50" data-money='50'></i>
                                        <i class="m100" data-money='100'></i>
                                        <i class="m500" data-money='500'></i>
                                        <i class="m1000" data-money='1000'></i>
                                        <i class="m5000" data-money='5000'></i>
                                    </dd>
                                </dl>
                                <div class="sub-btn">
                                    <a href="javascript:;" class="cancel"><i class="iconfont">取消下注 &#xe60d;</i></a>
                                    <a href="javascript:;" class="confirm"><i class="iconfont">&#xe60b; 确定下注</i></a>
                                </div>
                            </div>
                    </div>
                </div>

            </div>
        </div>
        <div class="rightdiv">

        </div>
    </div>
    <div class='kefu rbox off'>
        <div class="user_messages">
            <input type="text" id='kfs'/> <span id="sendkf">发 送</span>
        </div>
        <div class="kfcs">
            <div class=saidright>
                <img src="http://qimg.dgtztz.com/2017-10-30_59f6137d57ec7.jpg"/>
                <div class=tousaidl>
                    <span class="tousaid2">16:55:47</span>&nbsp;&nbsp;<span class=tousaid1>客服</span></div>
                <div class=ts><b></b><span class=neirongsaidl>有任何问题请留言，我们将尽快为您解答。</span>
                </div>
            </div>
        </div>
    </div>
    <div class="tzlog off rbox" data-uri="/index/mylog/lottery/cqssc.html"><p class="loading">数据加载中...</p></div>
    <div class="guize off rbox" data-load="0" data-uri="/index/help/data/guize/lottery/cqssc.html">
        <p class="loading">数据加载中...</p>
    </div>
    <div class="czhelp off rbox" data-load="0" data-uri="/index/help/data/czhelp/lottery/cqssc.html"><p class="loading">
        数据加载中...</p></div>
</div>
<div id='ss_menu'></div>
</body>
</html>
<script type="text/javascript">
    site_url = "";
    //如果kt为0 为很老的下注方式
    var udata = {
        uid: "", kt: 1, status: 0, type: 'cqssc', sw: 1,
        uname: "", sign: "", time: "",
        headimg: ""
    };

    $(function () {
//        load_slide_menu();
//        var socket_init = function () {
//            socket = new WebSocket(ws_api);
//            socket.onerror = function (event) {
//                if (socket.readyState != 1) {
//                    addxitong1(sys_head, '系统GM', '=服务器连接失败=', get_now_time());
//                }
//            };
//            socket.onopen = function (event) {
//                var sendMessage = {
//                    'act': 'login', 'sw': udata.sw,
//                    'uid': udata.uid,
//                    'type': udata.type,
//                    'uname': udata.uname,
//                    'headimg': udata.headimg,
//                    'sign': udata.sign,
//                    'time': udata.time,
//                };
//                socket.send(JSON.stringify(sendMessage));
//                socket.onmessage = function (event) {
//                    var obj = eval('(' + event.data + ')');
//                    if (obj.sign) {
//                        udata.sign = obj.sign.key;
//                        udata.time = obj.sign.time;
//                    }
//                    if (obj.balance >= 0) $(".balance").html(obj.balance);
//                    if (obj.online) $(".online").html(obj.online);
//                    wslnum = 0;
//                    switch (obj.code) {
//                        case 1:
//                            addxitong(obj.headimg || sys_head, obj.uname || '系统GM', obj.msg, obj.time);
//                            break;
//                        case 2:
//                            addxitong1(obj.headimg || sys_head, obj.uname || '系统GM', obj.msg, obj.time);
//                            break;
//                        case 3:
//                            window.ifarms.location.reload()
//                            break;
//                        case 4:
//                            addxitong1(obj.headimg || sys_head, obj.uname || '系统GM', obj.msg, obj.time);
//                            online_heart();
//                            break;
//                        case 100:
//                            addxitong3(sys_head, '系统GM', obj.msg, obj.time);
//                            break;
//                        case 200:
//                            addtouzhu(obj.headimg, obj.uname, obj.msg, obj.time);
//                            break;
//                        case 403:
//                            //						console.log("用户信息验证失败，请刷新后重试！");
//                            location.href = get_now_url();
//                            break;
//                        case 666:
//                        case 888:
//                            show_lottery_data(obj.logs);
//                            show_lottery_cl(obj.logs2);
//                            setTimeout(function () {
//                                //online_heart();
//                                $.get('/index/mylog/lottery/cqssc.html').then(function (res) {
//                                    $(".tzlog").html(res);
//                                })
//                            }, 5000);
//                            if (obj.code == 666) {
//                                zy.tips("连接服务成功");
//                                addxitong3(sys_head, '系统GM', "服务器连接成功", get_now_time());
//                                wslnum = 0;
//                                socket_check(1);
//                            }
//                            break;
//                        case 600:
//                            kefume(obj.headimg, obj.uname, obj.msg, obj.time);
//                            break;
//                        case 601:
//                            if ($(".kefu").is(':hidden')) {
//                                var a = $(".skefu").find('em');
//                                var n = a.html() * 1 + 1;
//                                $(a).html(n).show();
//                            }
//                            kefumsg(obj.headimg || kefu_head, obj.uname || '客服', obj.msg, obj.time);
//                            break;
//                        case 602:
//                            kefumsg(obj.headimg || kefu_head, obj.uname || '客服', obj.msg, obj.time);
//                            break;
//                    }
//                    $(".rightdiv >div:gt(100)").remove();
//                };
//                //监听Socket的关闭
//                socket.onclose = function (event) {
//                    zy.tips("连接已断开重连中", 2000);
//                    addxitong1(sys_head, '系统GM', '=连接已断开=<br>=重新连接中=', get_now_time());
//                    setTimeout(function () {
//                        socket_check(0);
//                    }, 1000)
//                };
//            }
//            var socket_check = function (flg) {
//                if (!socket || socket.readyState != 1) {
//                    wslnum++;
//                    zy.tips("服务重连中…" + wslnum + "…", 3000);
//                    if (wslnum > 10) {
//                        addxitong1(sys_head, '系统GM', '=多新连接失败，正尝试刷新页面=', get_now_time());
//                        location.href = get_now_url();
//                    }
//                    else {
//                        addxitong1(sys_head, '系统GM', '=第' + wslnum + '次重连服务器中=', get_now_time());
//                        socket_init();
//                    }
//                }
//                if (flg == 1) {
//                    if (flg) clearTimeout(flg);
//                    flg = setTimeout(function () {
//                        socket_check(1)
//                    }, 3000);
//                }
//            }
//            //socket_check();
//        }
//        addxitong3(sys_head, '系统GM', '=正在连接服务器=', get_now_time());
//        socket_init();
//        //竞猜发送
//        $(".sendemaill").click(function () {
//            send_msg();
//        })
//        $(".keybord_div em.c2,.kbsend").on('touchstart', function () {
//            send_msg();
//        });
//        var send_msg = function (msg) {
//            var msg = msg || $("#Message").val();
//            if (msg) {
//                var sendMessage = {
//                    'act': 'send', 'sw': udata.sw,
//                    'uid': udata.uid,
//                    'uname': udata.uname,
//                    'type': udata.type,
//                    'headimg': udata.headimg,
//                    'sign': udata.sign,
//                    'time': udata.time,
//                    'content': msg,
//                };
//                var str = JSON.stringify(sendMessage);
//                socket.send(str);
//                $("#Message").val('');
//            }
//        };
        //客户消息
//        $("#sendkf").click(function () {
//            var msg = $("#kfs").val();
//            if (msg) {
//                var sendMessage = {
//                    'act': 'tokefu', 'sw': udata.sw,
//                    'uid': udata.uid,
//                    'type': udata.type,
//                    'uname': udata.uname,
//                    'headimg': udata.headimg,
//                    'sign': udata.sign,
//                    'time': udata.time,
//                    'content': msg,
//                };
////				console.log(sendMessage);
//                var str = JSON.stringify(sendMessage);
//                socket.send(str);
//                $("#kfs").val('');
//            }
//
//        });
        //心跳包
        //setInterval(function(){
        //	online_heart();
        //},30000);
//
//        var online_heart = function () {
//            var sendMessage = {
//                'act': 'online',
//                'uid': udata.uid,
//                'sw': udata.sw,
//                'uname': udata.uname,
//                'type': udata.type,
//                'sign': udata.sign,
//                'time': udata.time
//            };
//            var str = JSON.stringify(sendMessage);
//            socket.send(str);
//        }
//        Mysocket开始



        //下面为操作js
        $(document).on("click", "*[event='ajax']", function () {
            var uri = $(this).data('uri');
            var pdiv = $(this).parents('.rbox');
            if (uri) {
                $.get(uri).then(function (res) {
                    pdiv.html(res);
                })
            }
        });
        $(document).on("click", ".cs-btn", function () {
            var that = $(this);
            layer.open({
                content: '确定要撤单吗？', btn: ['确定', '关闭'], yes: function (index) {
                    layer.close(index);
                    $.get($(that).data('uri')).then(function (res) {
                        zy.tips(res.info);
                        $.get('/index/mylog/lottery/cqssc.html').then(function (res) {
                            $(".tzlog").html(res);
                        })
                    })
                }
            });
        });
        $(document).on("click", ".saidleft .neirongsaid", function () {
            $("#Message").val($(this).text());
        });
        var a, b, c, d, bet = 1, bet_n = 0, bline, bval;
        for (var i = 1; i <= 9; i++) {
            if (!in_array(i, tz_types)) {
                a = $('.menu').find("a[data-t='" + i + "']");
                a.parent().is("li") ? a.parent().remove() : a.remove();
                $('.game-type-' + i).remove();
            }
        }
        //显示更多下注
        $(".game-hd .menu").find("li").click(function () {
            if ($(this).hasClass("more-game")) {
                $(this).toggleClass("on");
                $(this).hasClass("on") ? $(".sub-menu").show() : $(".sub-menu").hide();
                ;
            } else {
                $(this).siblings().removeClass('on');
                $(".sub-menu").hide();
            }
            ;
        })
        //切换下注方式
        $(".game-hd .menu").find("a").click(function () {
            var a = $(this), d = a.data();
            if (!d.t)return;
            $(".game-hd .menu").find("a").removeClass("on");
            a.addClass("on"), $("#game-gtype,.game-tit").html(a.text()), $(".sub-menu").hide(), $('.gamenum').hide(),
                $('.game-type-' + d.t).show().find('.rank-tit .change').html(a.text()), bet = d.t, show_bet();
        });
        //下注选择
        $(".game-bd a.btn").click(function () {
            $(this).toggleClass('on');
            show_bet();
        });
        //清空
        $(".clearnum").click(function () {
            $(".game-bd a.btn").removeClass("on");
            show_bet();
        });
        $(".money_clear").click(function () {
            $(this).prev().val('');
            zy.delcc("bet_money");
            show_bet();
        });
        $("input.bet_money").keyup(function () {
            show_bet();
        });
        $("i[data-money]").click(function () {
            var a = $(".bet_money"), m = $(this).data("money"), n = a.val() * 1;
            a.val(n + m);
            zy.setcc("bet_money", n + m);
            show_bet();
        });
        var show_bet = function () {
            var t = $(".game-type-" + bet);
            bline = [], bval = [];
            t.find('a.on[data-line]').each(function (i, o) {
                bline.push($(this).data('line'));
            });
            t.find('a.on[data-val]').each(function (i, o) {
                bval.push($(this).data('val'));
            });
            bet_n = 0;
            switch (bet) {
                case 4:
                case 5:
                case 6:
                case 7:
                    bet_n = bval.length;
                    break;
                case 8:
                    if (bval.length > 0 && bval.length < 6) bet_n = 1;
                    break;
                default:
                    bet_n = bline.length * bval.length;
                    break;
            }
            $("#bet_num").html("共<b>" + bet_n + "</b>注");
            $('.bet_n').html(bet_n);
            var bet_money = $("input.bet_money").val() || 0;
            $('.bet_total').html(bet_n * bet_money);
            if (bline.length > 0 || bval.length > 0) {
                $(".clearnum").addClass('on');
                $(".infuse").show();
            } else {
                $(".clearnum").removeClass('on');
                $(".infuse").show();
            }
            if (bet_n > 0) {
                $(".confirm-pour").addClass('on');
            } else {
                $(".confirm-pour").removeClass('on');
            }
        }
        $(".game-box i.closebt").click(function () {
            $(".game-box,.txtbet").removeClass('on');
            $(".txtbet_div").hide();
        });
        $("a.confirm").click(function () {

            var bl = $(".balance").text() * 1, msg1, msg2, msg = [],
                //当前下注的钱
                bet_money = $("input.bet_money").val() * 1;

            if (bet_money == 0) {
                zy.tips("请输入下注金额");
                return;
            }
            if (bet_money * bet_n > bl) {
                zy.tips("您的余点不足");
                return;
            }
            switch (bet) {
                case 2:
                    msg1 = bline.join(""), msg2 = bval.join("");
                    msg[0] = msg1 + "/" + msg2 + "/" + bet_money;
                    break;
                case 3:
                    var kk = 0;
                    $.each(bline, function (i, v) {
                        $.each(bval, function (ii, vv) {
                            msg[kk++] = v + "/" + vv + "/" + bet_money
                        })
                    });
                    break;
                case 4:
                    $.each(bval, function (i, v) {
                        msg[i] = v + bet_money
                    });
                    break;
                case 5:
                    msg1 = "总/";
                    $.each(bval, function (i, v) {
                            msg[i] = (in_array(v, ['A', 'B', 'C']) ? '' : msg1) + v + '/' + bet_money;
                        }
                    );
                    break;
                case 6:
                case 8:
                    msg[0] = "";
                    for (var i = 0; i < bval.length; i++) {
                        msg[0] += bval[i];
                    }
                    msg[0] += "/" + bet_money;
                    break;
                case 7:
                    for (var i = 0; i < bval.length; i++) {
                        msg[i] = bval[i] + "/" + bet_money;
                    }
                    break;
                    break;
                default:
                    msg1 = bline.join("");
                    $.each(bval, function (i, v) {
                        msg[i] = msg1 + "/" + v + "/" + bet_money
                    });
                    break;
            }
            if (msg.count < 1) return;
            $.each(msg, function (i, m) {
                console.log(msg);
//                send_msg(m);
            });
            $("#touzhu").removeClass("on");
            location.href = "#main"
        });

        $(".confirm-pour").click(function () {
            if (!$(this).hasClass("on")) return;
            $("#touzhu").addClass("on"), location.href = "#confirm"
        });

        $(".pour-info").find("a.close,a.cancel").click(function () {
            $("#touzhu").removeClass("on"), location.href = "#main";
        });
    });
</script>
<!--提交数据-->
<script type="text/javascript">
    setTimeout(function() {
        $('#load').css('display','none');
        $('.chatting').css('display','block');
    }, 1500);
    document.onkeydown=function(event){
        e = event ? event :(window.event ? window.event : null);
        if(e.keyCode==13){
            onSubmit(); return false;
        }
    }

    if(typeof console == "undefined") {
        this.console = {
            log: function(msg) {}
        };
    }
    WEB_SOCKET_SWF_LOCATION = "__PUBLIC__/worker/swf/WebSocketMain.swf";
    WEB_SOCKET_DEBUG = true;
    var ws, name;
    // 连接服务端
    function connect(){
        // 创建websocket

        ws = new WebSocket("ws://" + document.domain + ":{:C('worker_port')}");

        // 当socket连接打开时，发送登录信息
        ws.onopen = function(){
            var name = "{$userinfo.nickname}";
            // 登录
            var userid = "{$userinfo.id}";
            var login_data = '{"type":"login_pk10","client_name":"' + name.replace(/"/g, '\\"') + '","client_id":"'+userid+'"}';
            console.log("websocket握手成功，发送登录数据{:C('worker_port')}:" + login_data);
            ws.send(login_data);
        };
        // 当有消息时根据消息类型显示不同信息
        ws.onmessage = onmessage;
        ws.onclose = function(){
            console.log("连接关闭，定时重连");
            connect();
        };
        ws.onerror = function() {
            console.log("出现错误");
            connect();
        };
    }
    // 服务端发来消息时
    var inte = parseInt(Math.random()*12+1);
    function onmessage(e) {
//        console.log("youxiaoxi");

        var data = eval("(" + e.data + ")");
        switch(data['type']) {
            // 服务端ping客户端
            case 'ping':
                $('#xs').html(data.content+{:C('jnd_online')});

        break;
        // 登录 更新用户列表
    case 'login':
        console.log(data['client_name'] + "登录成功");
        break;
        // 发言
    case 'say':
//        console.log(data);
        if (data['send_type'] ==='pk10'){
           say(data['uid'],data['head_img_url'],data['time'],data['from_client_name'],data['content']);
        }
        break;
        // 用户退出 更新用户列表
    case 'logout':
        break;
    case 'broadcast':
        //alert('client');

        //房管
    case 'admin':
        systemsay(data['head_img_url'],data["time"],data["from_client_name"],data["content"])
//        console.log(data);
        if (data['send_type'] ==='pk10'){
            if($(".chatting2").css("display")=='none'){
                layer.msg(data["content"]);
            }
            if('{$userinfo.id}'==data['uid']){
                $(".chatting").prepend('<div class="chatting-li qtr green"><div class="portrait"><img src="'+data['head_img_url']+'"/></div><div class="content"><small><span class="name">' + data["from_client_name"] +'</span><time>'+data["time"] +'</time></small><p>' + data["content"] + '</p></div></div>');
            }else{
                $(".chatting").prepend('<div class="chatting-li qtr orange"><div class="portrait"><img src="'+data['head_img_url']+'"/></div><div class="content"><small><span class="name">' + data["from_client_name"] +'</span><time>'+data["time"] +'</time></small><p>' + data["content"] + '</p></div></div>');
            }
        }
        break;
        //系统
    case 'system':

        if('{$userinfo.id}'==data['uid']){
            systemsay(data['head_img_url'],data["time"],data["from_client_name"],data["content"])
            $(".chatting").prepend('<div class="chatting-li qtr green"><div class="portrait"><img src="'+data['head_img_url']+'"/></div><div class="content"><small><span class="name">' + data["from_client_name"] +'</span><time>'+data["time"] +'</time></small><p>' + data["content"] + '</p></div></div>');
        }else{
            $(".chatting").prepend('<div class="chatting-li qtr orange"><div class="portrait"><img src="'+data['head_img_url']+'"/></div><div class="content"><small><span class="name">' + data["from_client_name"] +'</span><time>'+data["time"] +'</time></small><p>' + data["content"] + '</p></div></div>');
        }
        break;
        //积分减
    case 'points':
        $('#sy').html((parseFloat($('#sy').html())-data['content']).toFixed(1));
        break;
        //积分加
    case 'pointsadd':
        $('#sy').html((parseFloat($('#sy').html())+data['points']).toFixed(1));
        parent.layer.msg('恭喜竞猜成功');
        break;
        //重载
    case 'reload':
        if('{$userinfo.id}'==9){
            window.location.href=window.location.href;
        }
        break;
        //切换
    case 'switch':
        parent.location.reload();
        break;
    }
    }
    // 提交对话
    function onSubmit() {
        var headimgurl = '{$userinfo.headimgurl}';
        var input = document.getElementById("textarea");
        var from_client_name = '{$userinfo.nickname}';
        //判断是否为空
//        if(input.value==''){
//            $('#textarea').focus();
//            return false;
//        }
        ws.send('{"type":"say_pk10","client_name":"'+from_client_name+'","headimgurl":"'+headimgurl+'"}');
        console.log('发送成功');

//    ,"content":"' + input.value.replace(/"/g, '\\"').replace(/\n/g, '\\n').replace(/\r/g, '\\r') + '"
        $('#textarea').val('').focus();
        //$('#dialog').scrollTop(0);
    }
    // 自己发言
    function say(uid,img,time,name,content) {
        if('{$userinfo.id}'==uid){
            othersay1(img,time,name,content);
        }else{
            othersay(img,time,name,content);
        }
    }
    //别人说话
    function othersay(img,time,name,content) {
        var html = "";
        html +=' <div class="saidleft"><img src="'+img+'">'
        html +='<div class="tousaid"><span class="tousaid1">'+name+'</span>&nbsp;&nbsp;<span class="tousaid2">'+time+'</span></div>'
        html +=' <div class="tsf"><b></b><span class="neirongsaid">'+content+'</span></div>'
        html +=' </div>'
        $(".rightdiv").prepend(html);
    }
    function othersay1(img,time,name,content) {
        var html = "";
        html +=' <div class="saidleft"><img src="'+img+'">'
        html +='<div class="tousaid"><span class="tousaid1">'+name+'</span>&nbsp;&nbsp;<span class="tousaid2">'+time+'</span></div>'
        html +=' <div class="tsf"><b></b><span class="neirongsaid" style="background:#98E165;">'+content+'</span></div>'
        html +=' </div>'
        $(".rightdiv").prepend(html);
    }

    //系统发言
    function systemsay(img,time,name,content){
        var html = "";
        html+=' <div class=saidright>'
        html+='         <img src="'+img+'"/>'
        html+='<div class=tousaidl>'
        html+='<span class="tousaid2">'+time+'</span>&nbsp;&nbsp;<span class=tousaid1>'+name+'</span></div>'
        html+='<div class=ts><b></b><span class=neirongsaidl style="background:#98E165;">'+content+'</span>'
        html+='</div>'
        html+='</div>';
        $(".rightdiv").prepend(html);
    }
</script>
<!--聊天-->
<!--视频-->
<script src="__PUBLIC__/main/mbase.js"></script>
<script src="__PUBLIC__/main/cocos2d.js"></script>